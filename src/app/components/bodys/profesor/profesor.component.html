<mat-horizontal-stepper linear #stepper>
  <ng-template matStepperIcon="edit">
  </ng-template>
  <mat-step [stepControl]="firstFormGroup">
    <form [formGroup]="firstFormGroup">
      <ng-template matStepLabel>Motivo de atencíon</ng-template>


      <form [formGroup]="forma" class="form-group ">

        <div class="form-group motivoDeAtencion m-5">
          <label for="Alertas">Seleccione el motivo de atencíon:</label>
          <select formControlName="opcion" [(ngModel)]="actualAlerta" class="form-control" id="Alertas">
            <option value='0'>Seleccione una opción</option>
            <option *ngFor="let alerta of alertas,let indi=index">{{alerta}}</option>
          </select>
        </div>
        <button mat-button matStepperNext>Siguiente</button>

      </form>



    </form>

  </mat-step>
  <mat-step [stepControl]="secondFormGroup">
    <form [formGroup]="secondFormGroup">
      <ng-template matStepLabel>Clase</ng-template>

      <div class="clases m-5">
        <table id="tablaClases" class="table table-hover">
          <thead class=" bg-warning">
            <tr>
              <th scope="col">Nombre</th>
              <th scope="col">Numero</th>
              <th scope="col">Numero de estudiantes</th>
            </tr>
          </thead>
          <tbody>
            <tr (click)="seleccionarClase(i)" *ngFor="let clase of clases, let i= index" style="cursor: pointer">
              <td>{{clase.nombre}}</td>
              <td class="text-center">{{clase.numero}}</td>
              <td class="text-center">{{clase.numeroEstudiantes}}</td>
            </tr>
          </tbody>
        </table>



      </div>
      <button mat-button matStepperPrevious>Regresar</button>
      <button mat-button matStepperNext>Siguiente</button>

    </form>
  </mat-step>
  <mat-step [stepControl]="thirdFormGroup">
    <form [formGroup]="thirdFormGroup">
      <ng-template matStepLabel>Estudiantes</ng-template>


      <div class="estudiantesDiv m-5">

        <table id="tablaEstudiantes" class="table table-hover">
          <thead class=" bg-warning">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Seleccionar</th>
              <th scope="col">Nombre</th>
              <th scope="col">Apellido</th>
              <th scope="col">Semestre</th>
            </tr>
          </thead>
          <tbody>
            <tr (click)="seleccionarCheck(i)" *ngFor="let estudiante of estudiantes, let i= index" style="cursor: pointer">
              <td>{{i+1}}</td>
              <td class="checkContent">
                <input id="check" type="checkbox" [(ngModel)]="estudiante.check" [ngModelOptions]="{standalone: true}">
              </td>
              <td>{{estudiante.nombre}}</td>
              <td>{{estudiante.apellido}}</td>
              <td>{{estudiante.semestre}}</td>
            </tr>
          </tbody>
        </table>

      </div>
      <button mat-button matStepperPrevious>Regresar</button>
      <button mat-button matStepperNext>Siguiente</button>

    </form>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Confirmación</ng-template>

    <div class="contenido m-5">

      <p style="font-weight: bold;font-size: 2em; text-align: center">
        {{actualAlerta}}
      </p>
      <h6>Estudiantes</h6>
      <ul>
        <li *ngFor="let estudiante of estudiantes |filtroEstudiantesChecked">{{estudiante.nombre}}
          {{estudiante.apellido}} </li>

      </ul>
      <label for="exampleFormControlTextarea1">Mas informacion de la alerta:</label>
      <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
    </div>

    <button (click)=alertar() (click)="stepper.reset()" type="button" class="btn btn-primary pull-right">Alertar</button>


  </mat-step>

</mat-horizontal-stepper>
